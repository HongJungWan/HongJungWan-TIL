## HTTP λ©”μ„λ“ ν™μ©

<br>

### π’΅ ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ λ°μ΄ν„° μ „μ†΅

---

### `λ°μ΄ν„° μ „λ‹¬ λ°©μ‹`

<br>

#### μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅
* `GET`μ—μ„ λ§μ΄ μ‚¬μ©ν•κ³  `μ •λ ¬ ν•„ν„°`λ‚ `κ²€μƒ‰μ–΄`λ¥Ό μ‚¬μ©ν•  λ•λ” `μΏΌλ¦¬ νλΌλ―Έν„°`λ¥Ό λ§μ΄ μ‚¬μ©ν•λ‹¤.

<br>

#### λ©”μ‹μ§€ λ°”λ””λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅
* `POST`, `PUT`, `PATCH`μ—μ„ μ‚¬μ©λλ©° `νμ› κ°€μ…`, `μƒν’ μ£Όλ¬Έ`κ³Ό κ°™μ΄ `λ¦¬μ†μ¤λ¥Ό λ“±λ΅`ν•κ±°λ‚ `λ³€κ²½`ν•λ” λ°μ— μ‚¬μ©ν•λ‹¤.

<br><br>

### `ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ” 4κ°€μ§€ μƒν™©`

<br>

#### 1. μ •μ  λ°μ΄ν„° μ΅°ν

* `μ΄λ―Έμ§€`, `μ •μ  ν…μ¤νΈ λ¬Έμ„`
  * μΏΌλ¦¬ νλΌλ―Έν„° λ―Έ μ‚¬μ©
  * μ •μ  λ°μ΄ν„°λ” μΌλ°μ μΌλ΅ μΏΌλ¦¬ νλΌλ―Έν„° μ—†μ΄ `λ¦¬μ†μ¤ κ²½λ΅λ΅ λ‹¨μν•κ² μ΅°νκ°€ κ°€λ¥`ν•λ‹¤.

<br>

<img src="https://velog.velcdn.com/images/daydream/post/cb7651d2-d61c-4a8b-86cc-d2b4a3b49f20/image.png" width="700">

<br><br>

#### 2. λ™μ  λ°μ΄ν„° μ΅°ν

* μ£Όλ΅ `κ²€μƒ‰`, κ²μ‹ν λ©λ΅μ—μ„ `μ •λ ¬ ν•„ν„°`
  * `μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ‚¬μ©`ν•λ‹¤.
  * μ„λ²„μ—μ„λ” μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό κΈ°λ°μΌλ΅ ν•„ν„°λ‚ κ²€μƒ‰ κ²°κ³Ό λ“± μ²λ¦¬ κ²°κ³Όλ¥Ό μ‘λ‹µν•΄ μ¤€λ‹¤.


* μ΅°νλ” `GET`μ„ μ‚¬μ©ν•λ‹¤.
* `GET`μ€ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•΄μ„ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•λ‹¤.

<br>

<img src="https://velog.velcdn.com/images/daydream/post/edf852ec-a7da-47e8-bcd0-f0c99c600ad7/image.png" width="700">

<br><br>

#### 3. HTML Formμ„ ν†µν• λ°μ΄ν„° μ „μ†΅

* νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ°μ΄ν„° λ³€κ²½

<br>

<img src="https://velog.velcdn.com/images/daydream/post/3967d240-c7c1-4dbc-89b0-76e9e21df1ae/image.png" width="700">

<br>

* μ›Ή λΈλΌμ°μ €λ” submit λ²„νΌμ„ λ„λ¥΄λ©΄ Form νƒκ·Έμ μ •λ³΄λ¥Ό μ·¨ν•©ν•΄ **actionμ— μ‘μ„±λ κ²½λ΅λ΅ ν•΄λ‹Ή method νƒ€μ…μ μ”μ²­**μ„ ν•κ² λλ”λ°, Content-Typeμ„ λ³΄λ©΄ x-www-form-urlencodedλΌκ³  λμ–΄μλ‹¤.


* μΏΌλ¦¬ νλΌλ―Έν„°μ™€ κ±°μ λ™μΌν• λ°©μ‹μΌλ΅ μ„λ²„μ— μ „μ†΅λλ‹¤.
    * `username=kim&age=20`

<br>

* urlencodedλ΅ λΌμμ–΄μ„ bodyμ— λ‹΄κΈ΄ λ‚΄μ©μ—μ„ ν•κΈ€μ²λΌ λ‹΄κΈ΄ λ‚΄μ©μ΄ `μΈμ½”λ”©`λμ–΄ λ„μ–΄κ°„λ‹¤.

<br>

<img src="https://velog.velcdn.com/images/daydream/post/3b5c09ec-5605-4423-9535-2fa3ee6684b7/image.png" width="700">

* `λ§μ•½ method νƒ€μ…μ΄ getμΌλ΅ λμ–΄μλ‹¤λ©΄ λ©”μ‹μ§€ λ°”λ””μ— λ‹΄κ²¨μλ” λ‚΄μ©μ΄ query stringμΌλ΅ path λ’¤μ— μ΅°ν•©λλ‹¤`.

<br><br>

#### π’΅ νμΌμ΄λ‚ μ΄λ―Έμ§€ κ°™μ€ μλ£λ” μ–΄λ–»κ² μ „μ†΅λλ”κ°€ β“

<img src="https://velog.velcdn.com/images/daydream/post/44cad041-0b0b-4ad2-b448-73a9aa9b0623/image.png" width="700">

* `enctype`μ„ `multipart/form-data`λ΅ μ‘μ„±ν•΄ ν•΄λ‹Ή νΌμ— νμΌμ΄ μλ‹¤λ” κ²ƒμ„ ν‘μ‹ν•λ‹¤.
<br><br>
  * `multipart/form-data` ν•μ‹μ΄λΌλ©΄ HTTP λ©”μ‹μ§€μ— μ„μμ κµ¬λ¶„μ(boundary=β€”β€”-XXX) κ°€ Form λ°μ΄ν„°κ°„ κµ¬λ¶„μ„ μ§€μ–΄μ¤€λ‹¤.
    <br><br>
  * λ°”μ΄λ„λ¦¬ λ°μ΄ν„° μ „μ†΅ μ‹ μ‚¬μ©ν•λ‹¤.

<br>
* HTML Form μ „μ†΅μ€ `GET`, `POST`λ§ μ§€μ›ν•λ‹¤.

<br><br>

#### 4. HTTP APIλ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅

<img src="https://velog.velcdn.com/images/daydream/post/30035b49-cf7d-4d29-a1f6-bd84cb0845e1/image.png" width="700">

* νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ°μ΄ν„° λ³€κ²½μ„ ν•  μ μλ”λ° μ„λ²„ to μ„λ²„, μ•± / μ›Ή ν΄λΌμ΄μ–ΈνΈ(Ajax)μ—μ„ μ‚¬μ©λλ‹¤.

<br>

* μ„λ²„ to μ„λ²„
    * λ°±μ—”λ“ μ‹μ¤ν… ν†µμ‹ 


* μ•± ν΄λΌμ΄μ–ΈνΈ
    * μ•„μ΄ν°, μ•λ“λ΅μ΄λ“


* μ›Ή ν΄λΌμ΄μ–ΈνΈ
    * HTMLμ—μ„ Form μ „μ†΅ λ€μ‹  μλ°” μ¤ν¬λ¦½νΈλ¥Ό ν†µν• ν†µμ‹ μ— μ‚¬μ©ν•λ‹¤. (Ajax)

<br>

* `POST`, `PUT`, `PATCH` : λ©”μ‹μ§€ λ°”λ””λ¥Ό ν†µν•΄ λ°μ΄ν„° μ „μ†΅
* `GET` : μ΅°ν, μΏΌλ¦¬ νλΌλ―Έν„°λ΅ λ°μ΄ν„° μ „λ‹¬
* `Content-Type` : `application/json`μ„ μ£Όλ΅ μ‚¬μ© (μ‚¬μ‹¤μƒ ν‘μ¤€)
    * TEXT, XML, JSON λ“±λ“±

<br><br>

## π’΅ HTTP API μ„¤κ³„ μμ‹

---

νμ› κ΄€λ¦¬λ¥Ό μμ‹λ΅ APIλ¥Ό λ‹¤μ–‘ν• λ°©λ²•μΌλ΅ μ„¤κ³„ν•΄ λ³΄μ.

* **HTTP API - μ»¬λ ‰μ…**
    * POST κΈ°λ° λ“±λ΅
    * νμ› κ΄€λ¦¬ API μ κ³µ

<br>

* **HTTP API - μ¤ν† μ–΄**
    * PUT κΈ°λ° λ“±λ΅
    * μ •μ  μ»¨ν…μΈ  κ΄€λ¦¬, μ›κ²© νμΌ κ΄€λ¦¬

<br>

* **HTML FORM μ‚¬μ©**
    * μ›Ή νμ΄μ§€ νμ› κ΄€λ¦¬
    * GET, POSTλ§ μ§€μ›

<br><br>

### β‘  API μ„¤κ³„ - POST κΈ°λ° λ“±λ΅

* **νμ› λ©λ΅ /members β†’ GET**
    * νμ› μ •λ ¬ μ΅°κ±΄μ΄λ‚ κ²€μƒ‰ μ΅°κ±΄μ΄ ν•„μ”ν•λ©΄ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ„¤κ³„ν•λ©΄ λλ‹¤.


* **νμ› λ“±λ΅ /members β†’ POST**


* **νμ› μ΅°ν /members/{id} β†’ GET**
    * κ³„μΈµμ  κµ¬μ΅°λ΅ λμ–΄μκ³  μ»¬λ ‰μ… μ•μ νΉμ • μ•„μ΄λ””λ¥Ό μ΅°νν•  μ μμ–΄ κ°€λ…μ„±μ΄ λ†’λ‹¤.


* **νμ› μμ • /members/{id} β†’ PATCH, PUT, POST**
    * PUTμ€ λ®μ–΄μ“°κΈ°κ³  PATCHλ” λ¶€λ¶„μ  μ—…λ°μ΄νΈμ΄κΈ°μ— νμ› μ •λ³΄ μμ •μ€ PATCHκ°€ μΆ‹λ‹¤.
      ν•μ§€λ§, μ „λ¶€ λ‹¤ λ³€κ²½ν•΄ μ¤μ•Ό ν•λ” κ²½μ°(ex: κ²μ‹ν κΈ€ μμ •ν•κΈ°)μ—λ” PUTμ„ μ“°λ” κ² μΆ‹μ„ μλ„ μλ‹¤.


* **νμ› μ‚­μ  /members/{id} β†’ DELETE**

<br><br>

### POST - μ‹ κ· μμ› λ“±λ΅ νΉμ§•

* ν΄λΌμ΄μ–ΈνΈλ” λ“±λ΅λ  λ¦¬μ†μ¤μ URIλ¥Ό λ¨λ¥Έλ‹¤.
    * νμ› λ“±λ΅ /members β†’ POST
    * POST /members


* μ„λ²„κ°€ μƒλ΅ λ“±λ΅λ λ¦¬μ†μ¤ URIλ¥Ό μƒμ„±ν•΄ μ¤€λ‹¤.
    * HTTP/1.1 201 Created
      Location: `/members/100`


* μ»¬λ ‰μ…(Collection)
    * μ„λ²„κ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ λ””λ ‰ν„°λ¦¬
    * μ„λ²„κ°€ λ¦¬μ†μ¤μ URIλ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬
    * μ—¬κΈ°μ„ μ»¬λ ‰μ…μ€ /members

<br>

---

<br>

### β‘΅ API μ„¤κ³„ - PUT κΈ°λ° λ“±λ΅

* νμΌ λ©λ΅ /files β†’ GET
* νμΌ μ΅°ν /files/{filename} β†’ GET
* νμΌ λ“±λ΅ /files/{filename} β†’ PUT
* νμΌ μ‚­μ  /files/{filename} β†’ DELETE
* νμΌ λ€λ‰ λ“±λ΅ /files β†’ POST

<br><br>

### PUT - μ‹ κ· μμ› λ“±λ΅ νΉμ§•

* ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤ URIλ¥Ό μ•κ³  μμ–΄μ•Ό ν•λ‹¤.
    * νμΌ λ“±λ΅ /files/{filename} β†’ PUT
    * PUT **/files/star.jpg**


* ν΄λΌμ΄μ–ΈνΈκ°€ μ§μ ‘ λ¦¬μ†μ¤μ URIλ¥Ό μ§€μ •ν•λ‹¤.


* μ¤ν† μ–΄(Store)
    * ν΄λΌμ΄μ–ΈνΈκ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ μ €μ¥μ†
    * ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤μ URIλ¥Ό μ•κ³  κ΄€λ¦¬
    * μ—¬κΈ°μ„ μ¤ν† μ–΄λ” /files

<br>

#### κ·ΈλΌ μ„ λ‘ λ°©μ‹ μ¤‘ λ¬΄μ—‡μ„ λ§μ΄ μ“ΈκΉ β“

* **λ€λ¶€λ¶„ μ‹¤λ¬΄μ—μ„λ” POST κΈ°λ°μ μ»¬λ ‰μ…μ„ μ‚¬μ©**ν•κ³ , `PUT λ°©μ‹`μ€ `νμΌ κ΄€λ¦¬`κ°™μ€ νΉμν• κ²½μ°μ—λ§ μ‚¬μ©λλ‹¤.

<br>

---

<br>

### HTML FORM μ‚¬μ©

* HTML FORMμ€ GET, POSTλ§ μ§€μ›ν•λ‹¤.
* AJAX κ°™μ€ κΈ°μ μ„ κ°€μ©ν•΄μ„ ν•΄κ²° κ°€λ¥ β†’ νμ› API μ°Έκ³ 
* ν•μ§€λ§ μμν•κ² HTML, HTML FORMμ—μ„λ” GET, POSTλ§ μ‚¬μ© κ°€λ¥
* κ·Έλ ‡κΈ°μ— μ μ•½μ΄ μλ‹¤.

<br><br>

### β‘Ά HTML FORM μ„¤κ³„

* **νμ› λ©λ΅ `/members` β†’ GET**

<br>

* **νμ› λ“±λ΅ νΌ `/members/new` β†’ GET**

    * νμ› λ“±λ΅ λ²„νΌμ„ λ„λ¥΄λ©΄ νμ› λ“±λ΅ νΌ νμ΄μ§€λ΅ μ΄λ™

<br>

* **νμ› λ“±λ΅ `/members/new`, `/members` β†’ POST**
<br><br>
    * `/members/new`λ΅ νμ΄μ§€ μ΄λ™κ³Ό νμ› λ“±λ΅ μ‹ URL κ²½λ΅λ¥Ό λ§μ¶”κ³  μ „μ†΅ λ°©μ‹λ§ λ‹¤λ¥΄κ² ν•λ” λ°©μ‹κ³Ό, νΌμ„ κ°€μ Έμ¬ λ•λ” `/new`λ¥Ό ν†µν•΄ κ°€μ Έμ¤μ§€λ§ νμ› λ“±λ΅μ€ `/members`μΌλ΅ ν•λ” λ°©μ‹λ„ μλ‹¤.
      <br><br>
    * μ „μ(κ²½λ΅λ¥Ό λ§μ¶”λ” μƒν™©)λ΅ μ‚¬μ©μ„ ν•λ©΄ Validation μ‘μ—…μΌλ΅ μƒλ΅κ³ μΉ¨λμ–΄ λ™μΌ νμ΄μ§€μ— κ°€μ•Ό ν•λ” κ²½μ° κ°„λ‹¨ν•κ² μ΄μ „(λ™μΌ) νμ΄μ§€λ΅ μ΄λ™ν•  μ μλ‹¤.

<br>

* **νμ› μ΅°ν `/members/{id}` β†’ GET**


* **νμ› μμ • νΌ `/members/{id}/edit` β†’ GET**


* **νμ› μμ • `/members/{id}/edit`, `/members/{id}` β†’ POST**

<br>

* **νμ› μ‚­μ  `/members/{id}/delete` β†’ POST**

    * μ‚­μ μΈλ° POST λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ‹¤. HTML FORMμ—μ„λ” GET, POSTλ§ μ‚¬μ©ν•  μ μλ‹¤λ” μ μ•½ λ•λ¬Έμ— μ–΄μ©” μ μ—†μ΄ URI κ²½λ΅μ— μ‚­μ ν•κ² λ‹¤λ” ν–‰μ„λ¥Ό μ‘μ„±ν•¨μΌλ΅μ¨ κΈ°λ¥μ„ κµ¬ν„ν•λ‹¤.
      μ΄λ° URIλ¥Ό `μ»¨νΈλ΅¤ URI`λΌ ν•λ‹¤.

<br><br>

## μ°Έκ³ ν•λ©΄ μΆ‹μ€ URI μ„¤κ³„ κ°λ…

---

#### λ¬Έμ„(document)
* λ‹¨μΌ κ°λ…(νμΌ ν•λ‚, κ°μ²΄ μΈμ¤ν„΄μ¤, λ°μ΄ν„°λ² μ΄μ¤ row)
    * μ) `/members/100`, `/file/star.jpg`

<br>

#### μ»¬λ ‰μ…(collection)
* μ„λ²„κ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ λ””λ ‰ν„°λ¦¬
* μ„λ²„κ°€ λ¦¬μ†μ¤μ URIλ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬
    * μ) `/members`

<br>

#### μ¤ν† μ–΄(store)
* ν΄λΌμ΄μ–ΈνΈκ°€ κ΄€λ¦¬ν•λ” μμ› μ €μ¥μ†
* ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤μ URIλ¥Ό μ•κ³  κ΄€λ¦¬
    * μ) `/files`

<br>

#### μ»¨νΈλ΅¤λ¬(controller), μ»¨νΈλ΅¤ URI
* λ¬Έμ„, μ»¬λ ‰μ…, μ¤ν† μ–΄λ΅ ν•΄κ²°ν•κΈ° μ–΄λ ¤μ΄ μ¶”κ°€ ν”„λ΅μ„Έμ¤ μ‹¤ν–‰
* λ™μ‚¬λ¥Ό μ‚¬μ©ν•λ‹¤.
    * μ) `/members/{id}/delete`

